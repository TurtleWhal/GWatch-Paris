# Load the list of .c files generated by the editor
include(${CMAKE_CURRENT_LIST_DIR}/file_list_gen.cmake)

# Check whether we're in ESP-IDF or standard CMake
if(COMMAND idf_component_register)
  # ESP-IDF build
  idf_component_register(
    SRCS ${PROJECT_SOURCES}
    INCLUDE_DIRS "."
    REQUIRES lvgl
  )
else()
  # Standard CMake build (for Editor Preview)
  add_library(lib-ui ${PROJECT_SOURCES})
  target_include_directories(lib-ui PUBLIC ${CMAKE_CURRENT_LIST_DIR})
endif()
